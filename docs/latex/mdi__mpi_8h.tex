\hypertarget{mdi__mpi_8h}{}\doxysection{/\+Users/tbarnes/\+Documents/mdi/\+M\+D\+I\+\_\+\+Library/\+M\+D\+I\+\_\+\+Library/mdi\+\_\+mpi.h File Reference}
\label{mdi__mpi_8h}\index{/Users/tbarnes/Documents/mdi/MDI\_Library/MDI\_Library/mdi\_mpi.h@{/Users/tbarnes/Documents/mdi/MDI\_Library/MDI\_Library/mdi\_mpi.h}}


M\+PI communication implementation.  


{\ttfamily \#include $<$mpi.\+h$>$}\newline
{\ttfamily \#include \char`\"{}mdi.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmpi__data__struct}{mpi\+\_\+data\+\_\+struct}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{mdi__mpi_8h_a8d2cd6bb26352271a144b2ae97c5ce21}\label{mdi__mpi_8h_a8d2cd6bb26352271a144b2ae97c5ce21}} 
typedef struct \mbox{\hyperlink{structmpi__data__struct}{mpi\+\_\+data\+\_\+struct}} {\bfseries mpi\+\_\+method\+\_\+data}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{mdi__mpi_8h_a027fc7cf6eb7e67c2b54a6091ee4ebd5}{set\+\_\+world\+\_\+size}} (int world\+\_\+size\+\_\+in)
\begin{DoxyCompactList}\small\item\em Set the size of M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{mdi__mpi_8h_a0639f31fe7860f028614354b78b22205}{set\+\_\+world\+\_\+rank}} (int world\+\_\+rank\+\_\+in)
\begin{DoxyCompactList}\small\item\em Set the rank of this process in M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{mdi__mpi_8h_a44c7d40baf40b4ece1ab6208dab790eb}{mpi\+\_\+identify\+\_\+codes}} (const char $\ast$code\+\_\+name, int use\+\_\+mpi4py, M\+P\+I\+\_\+\+Comm world\+\_\+comm)
\begin{DoxyCompactList}\small\item\em Identify groups of processes belonging to the same codes. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{mdi__mpi_8h_ae66fead66748e44e6c85283f44b98a15}{mpi\+\_\+update\+\_\+world\+\_\+comm}} (void $\ast$world\+\_\+comm)
\begin{DoxyCompactList}\small\item\em Update a pointer to M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD to instead point to the intra-\/code M\+PI communicator. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mdi__mpi_8h_a715cbc7f98fcb19040425a570f128a9e}\label{mdi__mpi_8h_a715cbc7f98fcb19040425a570f128a9e}} 
int {\bfseries mpi\+\_\+send\+\_\+msg} (const void $\ast$buf, int count, M\+D\+I\+\_\+\+Datatype datatype, M\+D\+I\+\_\+\+Comm comm)
\item 
\mbox{\Hypertarget{mdi__mpi_8h_a994885000a4b837609a5f43627f04fb3}\label{mdi__mpi_8h_a994885000a4b837609a5f43627f04fb3}} 
int {\bfseries mpi\+\_\+recv\+\_\+msg} (void $\ast$buf, int count, M\+D\+I\+\_\+\+Datatype datatype, M\+D\+I\+\_\+\+Comm comm)
\item 
int \mbox{\hyperlink{mdi__mpi_8h_a1a43a4b83b8dd21effd6ea28d9168d57}{mpi\+\_\+send}} (const void $\ast$buf, int count, M\+D\+I\+\_\+\+Datatype datatype, M\+D\+I\+\_\+\+Comm comm, int msg\+\_\+flag)
\begin{DoxyCompactList}\small\item\em Send data through an M\+DI connection, using M\+PI. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{mdi__mpi_8h_aec3b930e313d9f1294ddf87c85bd3b2a}{mpi\+\_\+recv}} (void $\ast$buf, int count, M\+D\+I\+\_\+\+Datatype datatype, M\+D\+I\+\_\+\+Comm comm, int msg\+\_\+flag)
\begin{DoxyCompactList}\small\item\em Receive data through an M\+DI connection, using M\+PI. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mdi__mpi_8h_a23dac41bb73dc520d2786da835507b50}\label{mdi__mpi_8h_a23dac41bb73dc520d2786da835507b50}} 
int \mbox{\hyperlink{mdi__mpi_8h_a23dac41bb73dc520d2786da835507b50}{communicator\+\_\+delete\+\_\+mpi}} (void $\ast$comm)
\begin{DoxyCompactList}\small\item\em Function for M\+P\+I-\/specific deletion operations for communicator deletion. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{mdi__mpi_8h_a94117669fa21b6293d144b9f2ec9bc77}\label{mdi__mpi_8h_a94117669fa21b6293d144b9f2ec9bc77}} 
M\+P\+I\+\_\+\+Comm \mbox{\hyperlink{mdi__mpi_8h_a94117669fa21b6293d144b9f2ec9bc77}{intra\+\_\+\+M\+P\+I\+\_\+comm}}
\begin{DoxyCompactList}\small\item\em M\+PI communicator corresponding to all processes created by the same code as this process. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mdi__mpi_8h_ab8411355a7d80016be6edcce3437b978}\label{mdi__mpi_8h_ab8411355a7d80016be6edcce3437b978}} 
int \mbox{\hyperlink{mdi__mpi_8h_ab8411355a7d80016be6edcce3437b978}{world\+\_\+size}}
\begin{DoxyCompactList}\small\item\em Size of M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mdi__mpi_8h_a0be0ed3102aab1d72782301d75cf570b}\label{mdi__mpi_8h_a0be0ed3102aab1d72782301d75cf570b}} 
int \mbox{\hyperlink{mdi__mpi_8h_a0be0ed3102aab1d72782301d75cf570b}{world\+\_\+rank}}
\begin{DoxyCompactList}\small\item\em Rank of this process within M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
M\+PI communication implementation. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mdi__mpi_8h_a44c7d40baf40b4ece1ab6208dab790eb}\label{mdi__mpi_8h_a44c7d40baf40b4ece1ab6208dab790eb}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!mpi\_identify\_codes@{mpi\_identify\_codes}}
\index{mpi\_identify\_codes@{mpi\_identify\_codes}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{mpi\_identify\_codes()}{mpi\_identify\_codes()}}
{\footnotesize\ttfamily int mpi\+\_\+identify\+\_\+codes (\begin{DoxyParamCaption}\item[{const char $\ast$}]{code\+\_\+name,  }\item[{int}]{use\+\_\+mpi4py,  }\item[{M\+P\+I\+\_\+\+Comm}]{world\+\_\+comm }\end{DoxyParamCaption})}



Identify groups of processes belonging to the same codes. 

If use\+\_\+mpi4py == 0, this function will call M\+P\+I\+\_\+\+Comm\+\_\+split to create an intra-\/code communicator for each code.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em code\+\_\+name} & M\+DI name of the code associated with this process, indicated by the user with the -\/name runtime option. \\
\hline
\mbox{\texttt{ in}}  & {\em use\+\_\+mpi4py} & Flag to indicate whether M\+P\+I\+\_\+\+Comm\+\_\+split should be called in order to create an intra-\/code communicator for each code. The intra-\/code communicators are created only if use\+\_\+mpi4py == 0. Should normally be set to 0, unless the code associated with this process is a Python code. In that case, the Python wrapper code will do the split instead. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mdi__mpi_8h_aec3b930e313d9f1294ddf87c85bd3b2a}\label{mdi__mpi_8h_aec3b930e313d9f1294ddf87c85bd3b2a}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!mpi\_recv@{mpi\_recv}}
\index{mpi\_recv@{mpi\_recv}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{mpi\_recv()}{mpi\_recv()}}
{\footnotesize\ttfamily int mpi\+\_\+recv (\begin{DoxyParamCaption}\item[{void $\ast$}]{buf,  }\item[{int}]{count,  }\item[{M\+D\+I\+\_\+\+Datatype}]{datatype,  }\item[{M\+D\+I\+\_\+\+Comm}]{comm,  }\item[{int}]{msg\+\_\+flag }\end{DoxyParamCaption})}



Receive data through an M\+DI connection, using M\+PI. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buf} & Pointer to the buffer where the received data will be stored. \\
\hline
\mbox{\texttt{ in}}  & {\em count} & Number of values (integers, double precision floats, characters, etc.) to be received. \\
\hline
\mbox{\texttt{ in}}  & {\em datatype} & M\+DI handle (M\+D\+I\+\_\+\+I\+NT, M\+D\+I\+\_\+\+D\+O\+U\+B\+LE, M\+D\+I\+\_\+\+C\+H\+AR, etc.) corresponding to the type of data to be received. \\
\hline
\mbox{\texttt{ in}}  & {\em comm} & M\+DI communicator associated with the connection to the sending code. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+flag} & Type of role this data has within a message. 0\+: Not part of a message. 1\+: The header of a message. 2\+: The body (data) of a message. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mdi__mpi_8h_a1a43a4b83b8dd21effd6ea28d9168d57}\label{mdi__mpi_8h_a1a43a4b83b8dd21effd6ea28d9168d57}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!mpi\_send@{mpi\_send}}
\index{mpi\_send@{mpi\_send}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{mpi\_send()}{mpi\_send()}}
{\footnotesize\ttfamily int mpi\+\_\+send (\begin{DoxyParamCaption}\item[{const void $\ast$}]{buf,  }\item[{int}]{count,  }\item[{M\+D\+I\+\_\+\+Datatype}]{datatype,  }\item[{M\+D\+I\+\_\+\+Comm}]{comm,  }\item[{int}]{msg\+\_\+flag }\end{DoxyParamCaption})}



Send data through an M\+DI connection, using M\+PI. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buf} & Pointer to the data to be sent. \\
\hline
\mbox{\texttt{ in}}  & {\em count} & Number of values (integers, double precision floats, characters, etc.) to be sent. \\
\hline
\mbox{\texttt{ in}}  & {\em datatype} & M\+DI handle (M\+D\+I\+\_\+\+I\+NT, M\+D\+I\+\_\+\+D\+O\+U\+B\+LE, M\+D\+I\+\_\+\+C\+H\+AR, etc.) corresponding to the type of data to be sent. \\
\hline
\mbox{\texttt{ in}}  & {\em comm} & M\+DI communicator associated with the intended recipient code. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+flag} & Type of role this data has within a message. 0\+: Not part of a message. 1\+: The header of a message. 2\+: The body (data) of a message. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mdi__mpi_8h_ae66fead66748e44e6c85283f44b98a15}\label{mdi__mpi_8h_ae66fead66748e44e6c85283f44b98a15}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!mpi\_update\_world\_comm@{mpi\_update\_world\_comm}}
\index{mpi\_update\_world\_comm@{mpi\_update\_world\_comm}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{mpi\_update\_world\_comm()}{mpi\_update\_world\_comm()}}
{\footnotesize\ttfamily int mpi\+\_\+update\+\_\+world\+\_\+comm (\begin{DoxyParamCaption}\item[{void $\ast$}]{world\+\_\+comm }\end{DoxyParamCaption})}



Update a pointer to M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD to instead point to the intra-\/code M\+PI communicator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em world\+\_\+comm} & On input, the M\+PI communicator that spans all of the codes. On output, the M\+PI communicator that spans the single code corresponding to the calling rank. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mdi__mpi_8h_a0639f31fe7860f028614354b78b22205}\label{mdi__mpi_8h_a0639f31fe7860f028614354b78b22205}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!set\_world\_rank@{set\_world\_rank}}
\index{set\_world\_rank@{set\_world\_rank}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{set\_world\_rank()}{set\_world\_rank()}}
{\footnotesize\ttfamily int set\+\_\+world\+\_\+rank (\begin{DoxyParamCaption}\item[{int}]{world\+\_\+rank\+\_\+in }\end{DoxyParamCaption})}



Set the rank of this process in M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em world\+\_\+rank\+\_\+in} & Rank of this process within M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{mdi__mpi_8h_a027fc7cf6eb7e67c2b54a6091ee4ebd5}\label{mdi__mpi_8h_a027fc7cf6eb7e67c2b54a6091ee4ebd5}} 
\index{mdi\_mpi.h@{mdi\_mpi.h}!set\_world\_size@{set\_world\_size}}
\index{set\_world\_size@{set\_world\_size}!mdi\_mpi.h@{mdi\_mpi.h}}
\doxysubsubsection{\texorpdfstring{set\_world\_size()}{set\_world\_size()}}
{\footnotesize\ttfamily int set\+\_\+world\+\_\+size (\begin{DoxyParamCaption}\item[{int}]{world\+\_\+size\+\_\+in }\end{DoxyParamCaption})}



Set the size of M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em world\+\_\+size\+\_\+in} & Size of M\+P\+I\+\_\+\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD \\
\hline
\end{DoxyParams}
